/* stylelint-disable at-rule-no-unknown */
@import "tailwindcss";
@import "tw-animate-css";

/*
 * StandUp Tracker Design Tokens
 * Built on Radix Colors (mauve + violet)
 * 
 * Tailwind v4 CSS-based configuration
 */

:root {
	/* ============================================
     RADIX COLOR SCALES (for reference)
     ============================================ */

	/* Mauve (gray with slight purple tint) */
	--mauve-1: #121113;
	--mauve-2: #1a191b;
	--mauve-3: #232225;
	--mauve-4: #2b292d;
	--mauve-5: #323035;
	--mauve-6: #3c393f;
	--mauve-7: #49474e;
	--mauve-8: #625f69;
	--mauve-9: #6f6d78;
	--mauve-10: #7c7a85;
	--mauve-11: #9f9ba8;
	--mauve-12: #eeeef0;

	/* Violet (accent) */
	--violet-1: #14121f;
	--violet-2: #1b1525;
	--violet-3: #291f43;
	--violet-4: #33255b;
	--violet-5: #3c2e69;
	--violet-6: #473876;
	--violet-7: #56468b;
	--violet-8: #6958a3;
	--violet-9: #6e56cf;
	--violet-10: #7c66dc;
	--violet-11: #9e8cfc;
	--violet-12: #e2ddfe;

	/* Red (danger/blockers) */
	--red-1: #191111;
	--red-2: #201314;
	--red-3: #3b1219;
	--red-4: #500f1c;
	--red-5: #611623;
	--red-6: #72232d;
	--red-7: #8c333a;
	--red-8: #b54548;
	--red-9: #e5484d;
	--red-10: #ec5d5e;
	--red-11: #ff9592;
	--red-12: #ffd1d9;

	/* Green (success) */
	--green-3: #132d21;
	--green-9: #30a46c;
	--green-11: #4cc38a;

	/* SEMANTIC TOKENS */

	/* Surfaces (background layers) */
	--surface-base: var(--mauve-1);
	--surface-raised: var(--mauve-2);
	--surface-overlay: var(--mauve-3);
	--surface-sunken: #0e0d0f;

	/* Borders */
	--border-subtle: var(--mauve-4);
	--border-default: var(--mauve-5);
	--border-strong: var(--mauve-6);
	--border-focus: var(--violet-9);

	/* Text - WCAG 1.4.3 Compliant (4.5:1 minimum contrast)
	   Radix mauve-11 and mauve-12 are the only colors that meet WCAG AA
	   against dark backgrounds (mauve-1 through mauve-3).
	   mauve-9 and mauve-10 fail contrast requirements for text.
	*/
	--foreground: var(--mauve-12); /* #eeeef0 - Highest contrast ~16:1 - Primary content */
	--foreground-muted: var(--mauve-11); /* #9f9ba8 - Lower contrast ~7:1 - Secondary labels, metadata */
	
	/* Deprecated - Use for UI elements only, NOT readable text */
	--ui-muted: var(--mauve-9); /* #6f6d78 - 3.6:1 contrast - Borders, disabled states only */
	--ui-subtle: var(--mauve-10); /* #7c7a85 - 4.3:1 contrast - UI elements only */

	/* Accent (interactive elements) */
	--accent-subtle: var(--violet-3);
	--accent-default: var(--violet-9);
	--accent-hover: var(--violet-10);
	--accent-active: var(--violet-11);
	--accent-text: var(--violet-11);

	/* Danger (errors, destructive, blockers) */
	--danger-subtle: var(--red-3);
	--danger-default: var(--red-9);
	--danger-text: var(--red-11);

	/* Success */
	--success-subtle: var(--green-3);
	--success-default: var(--green-9);
	--success-text: var(--green-11);

	/* 
		SHADCN COMPATIBILITY LAYER
		Maps shadcn variable names to our tokens
    */

	--radius: 0.5rem;
	--background: var(--surface-base);
	--foreground: var(--foreground);
	--card: var(--surface-raised);
	--card-foreground: var(--foreground);
	--popover: var(--surface-raised);
	--popover-foreground: var(--foreground);
	--primary: var(--accent-default);
	--primary-foreground: #ffffff;
	--secondary: var(--surface-overlay);
	--secondary-foreground: var(--foreground-muted);
	--muted: var(--surface-overlay);
	--muted-foreground: var(--foreground-muted);
	--accent: var(--accent-subtle);
	--accent-foreground: var(--accent-text);
	--destructive: var(--danger-default);
	--destructive-foreground: #ffffff;
	--border: var(--border-default);
	--input: var(--border-default);
	--ring: var(--border-focus);

	/* Typography */
	font-family:
		"Inter",
		system-ui,
		-apple-system,
		sans-serif;
	line-height: 1.5;
	font-weight: 400;
	color-scheme: dark;
	font-synthesis: none;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* TAILWIND V4 THEME CONFIGURATION */

@theme inline {
	/* Radii */
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: calc(var(--radius) - 2px);
	--radius-lg: var(--radius);
	--radius-xl: calc(var(--radius) + 4px);

	/* Surface colors */
	--color-surface-base: var(--surface-base);
	--color-surface-raised: var(--surface-raised);
	--color-surface-overlay: var(--surface-overlay);
	--color-surface-sunken: var(--surface-sunken);

	/* Border colors */
	--color-border-subtle: var(--border-subtle);
	--color-border: var(--border-default);
	--color-border-strong: var(--border-strong);
	--color-border-focus: var(--border-focus);

	/* Text colors */
	--color-foreground: var(--foreground);
	--color-foreground-muted: var(--foreground-muted);

	/* Accent colors */
	--color-accent-subtle: var(--accent-subtle);
	--color-accent: var(--accent-default);
	--color-accent-hover: var(--accent-hover);
	--color-accent-active: var(--accent-active);
	--color-accent-text: var(--accent-text);

	/* Danger colors */
	--color-danger-subtle: var(--danger-subtle);
	--color-danger: var(--danger-default);
	--color-danger-text: var(--danger-text);

	/* Success colors */
	--color-success-subtle: var(--success-subtle);
	--color-success: var(--success-default);
	--color-success-text: var(--success-text);

	/* Shadcn compatibility */
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-destructive: var(--destructive);
	--color-input: var(--input);
	--color-ring: var(--ring);
}

/* BASE STYLES */

@layer base {
	* {
		@apply border-border;
	}

	body {
		@apply bg-surface-base text-foreground;
		margin: 0;
		padding: 0;
		min-width: 320px;
		min-height: 100vh;
	}

	#root {
		width: 100%;
		min-height: 100vh;
	}

	/* Improved focus styles */
	:focus-visible {
		@apply outline-none ring-2 ring-border-focus ring-offset-2 ring-offset-surface-base;
	}

	/* Selection */
	::selection {
		background: rgba(110, 86, 207, 0.3);
		color: var(--text-default);
	}

	/* Scrollbar styling */
	::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	::-webkit-scrollbar-track {
		background: var(--surface-base);
	}

	::-webkit-scrollbar-thumb {
		background: var(--border-default);
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: var(--border-strong);
	}

	/* Headings */
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-semibold tracking-tight text-foreground;
	}

	/* Links */
	a {
		color: var(--accent-text);
		text-decoration: none;
	}

	a:hover {
		text-decoration: underline;
		text-underline-offset: 4px;
	}

	/* Code */
	code {
		font-family: "JetBrains Mono", "Fira Code", monospace;
		font-size: 0.875em;
		background: var(--surface-overlay);
		padding: 0.125rem 0.375rem;
		border-radius: 4px;
	}

	/* Date inputs for dark theme */
	input[type="date"],
	input[type="datetime-local"] {
		color-scheme: dark;
	}

	input[type="date"]::-webkit-calendar-picker-indicator,
	input[type="datetime-local"]::-webkit-calendar-picker-indicator {
		filter: invert(0.7);
		cursor: pointer;
	}
}

/* ANIMATIONS */

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes scaleIn {
	from {
		opacity: 0;
		transform: scale(0.95);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes slideDown {
	from {
		height: 0;
		opacity: 0;
	}
	to {
		height: var(--radix-accordion-content-height);
		opacity: 1;
	}
}

@keyframes slideUp {
	from {
		height: var(--radix-accordion-content-height);
		opacity: 1;
	}
	to {
		height: 0;
		opacity: 0;
	}
}

@keyframes contentShow {
	from {
		opacity: 0;
		transform: translate(-50%, -48%) scale(0.96);
	}
	to {
		opacity: 1;
		transform: translate(-50%, -50%) scale(1);
	}
}

/* Animation utilities */
.animate-fadeIn {
	animation: fadeIn 150ms ease;
}
.animate-scaleIn {
	animation: scaleIn 150ms ease;
}
.animate-slideDown {
	animation: slideDown 200ms cubic-bezier(0.16, 1, 0.3, 1);
}
.animate-slideUp {
	animation: slideUp 200ms cubic-bezier(0.16, 1, 0.3, 1);
}
.animate-contentShow {
	animation: contentShow 150ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* Screen reader only utility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

.not-sr-only {
	position: static;
	width: auto;
	height: auto;
	padding: 0;
	margin: 0;
	overflow: visible;
	clip: auto;
	white-space: normal;
}
